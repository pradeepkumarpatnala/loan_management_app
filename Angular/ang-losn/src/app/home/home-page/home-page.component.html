<div class="jumbotron">

    <div class="container">
        <h5 class="display-4 headings">Search your Loan</h5>
        <form (ngSubmit)="onSubmit()" [formGroup]="searchForm">
            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="firstName">First Name</label>
                    <input type="text" class="form-control" formControlName="firstName" id="firstName"
                        placeholder="First Name">
                    <div class="text-danger"
                        *ngIf="searchForm.get('firstName').touched && searchForm.get('firstName').hasError('required')">
                        <small>First Name is
                            required.</small></div>
                </div>
                <div class="form-group col-md-6">
                    <label for="lastName">Last Name</label>
                    <input type="text" class="form-control" formControlName="lastName" id="lastName"
                        placeholder="Last Name">
                    <div class="text-danger"
                        *ngIf="searchForm.get('lastName').touched && searchForm.get('lastName').hasError('required')">
                        <small>Last Name is
                            required.</small></div>
                </div>

            </div>
            <div class="form-group">
                <label for="loanNumber">Loan Number</label>
                <input type="text" class="form-control" id="loanNumber" formControlName="loanNumber"
                    placeholder="Loan Number">
                <div class="text-danger"
                    *ngIf="searchForm.get('loanNumber').touched && searchForm.get('loanNumber').hasError('required')">
                    <small>Loan Number is
                        required.</small></div>
                <div class="text-danger"
                    *ngIf="searchForm.get('loanNumber').touched && searchForm.get('loanNumber').hasError('pattern')">
                    <small>Loan number is invalid
                    </small></div>

            </div>
            <div class="form-row ml-auto">
                <div class="form-group ">
                    <button type="submit" class="btn btn-primary btn-lg" [disabled]="!searchForm.valid"><i class="material-icons lgb mat-icon">search</i>Search</button>
                </div>
            </div>


        </form>







    </div>
</div>

<div class="container  mb-5 pb-5">

    <div class="alert alert-danger text-danger" *ngIf="!isLoansAvailable">No Records Found .Please search above.</div>
    <div class="d-flex justify-content-center" *ngIf="isLoading">
        <img style="width:75px;height:75px;"src="assets/loading-png.gif"/>
    </div>
   
    <ul class="list-group mt-3" *ngIf="isLoansAvailable">
        <li class="list-group-item border-info" *ngFor="let loan of loans">
            <div class="row">
                <div class="col-md-6">
                    <h5>Borrower Name: <span class=" text-muted">{{loan.firstName}} {{loan.lastName}}</span></h5>
                </div>

                <div class="col-md-6">
                    <h5>Loan Number: <span class=" text-muted">{{loan.id}}</span></h5>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <h5>Loan Amount: <span class=" text-danger">{{loan.loanAmount | currency:'INR'}}</span></h5>
                </div>
                <div class="col-md-6">
                    <h5>Borrower Property: <span class=" text-muted">{{loan.loanProperty}}</span></h5>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <h5>Type of Loan: <span class=" text-muted">{{loan.loantype}} </span></h5>
                </div>

                <div class="col-md-6">
                    <h5>Loan Term: <span class=" text-muted">{{loan.loanterm}} years</span></h5>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <h5>Date of origin: <span class=" text-muted">{{loan.dateOfOrigin| date:"MM/dd/yyyy" : "UTC"}} </span></h5>
                </div>

              
            </div>

        </li>


    </ul>
</div>